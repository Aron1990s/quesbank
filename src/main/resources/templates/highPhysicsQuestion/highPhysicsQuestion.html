<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../css/common.css"/><!-- 基本样式 -->
    <link rel="stylesheet" href="../css/animate.css"/> <!-- 动画效果 -->
    <link href="../css/bodyAndHtml.css" rel="stylesheet">
    <link href="../css/flexPlugin.css" rel="stylesheet">
    <link href="../css/quesBlock.css" rel="stylesheet">
    <link href="../css/imageNoDim.css" rel="stylesheet">
    <link href="../css/font-awesome.min.css" rel="stylesheet">
    <style>
        .questionAuthor{
            display: flex;
            align-items: center;
            font-weight: bold;
            font-size: 1vw;
            color: #646464;
        }
    </style>
</head>
<body class="main">
<div id="HBox" style="height: 100%;width: 100%">
    <iframe id="te" src="" frameborder="0" style="height: 90%;width: 100%"></iframe>
</div>
<div class="container">
    <div class="col-sm-2"></div>
    <div class="col-sm-96 ques">
        <div style="text-align: center;height: 3%"></div>
        <div th:each="subList,subListStat:${questionList}" style="height: auto" th:id="question+${subListStat.count}">
            <div class="recordContainerShowQuestion">
                <div class="showBody">
                    <div class="contentShowQuestion">
                        <div contentEditable="false" class="showDemoShowQuestion" th:utext="${subList.question_content}">
                        </div>
                    </div>
                </div>
            </div>
            <div style="height: 3%"></div>
            <div style="height:40px" class="questionOperate">
                <div style="height: 5px"></div>
                <div style="height: 30px" class="container">
                    <div class="col-sm-1"></div>
                    <div class="col-sm-11 questionAuthor" th:text="'录入者:&nbsp;' + ${subList.record_teacher_name}"></div>
                    <div class="col-sm-27"></div>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-11">
                        <div class="questionOperateBlock" th:onclick="removeQuestionAndAnswer([[${subList.id}]])">
                            <i class="fa fa-trash-o" aria-hidden="true" style="font-weight: bold"></i>&nbsp;删除题目
                        </div>
                    </div>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-11">
                        <div class="questionOperateBlock" th:onclick="editQuestionAndAnswer([[${subList.id}]])">
                            <i class="fa fa-pencil-square" aria-hidden="true"></i>&nbsp;编辑题目
                        </div>
                    </div>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-11">
                        <div class="questionOperateBlock" th:onclick="'getSimpleAnswer('+${subListStat.count}+')'">
                            <i class="fa fa-check-square-o"></i>&nbsp;简单解析
                        </div>
                    </div>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-11">
                        <div class="questionOperateBlock bounceInDown dialog" th:onclick="goToStepAnswer([[${subList.id}]])">
                            <i class="fa fa-check-circle-o"></i>&nbsp;详细解析
                        </div>
                    </div>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-11">
                        <div class="questionOperateBlock">
                            <i class="fa fa-cubes"></i>&nbsp;难度:&nbsp;[[${subList.difficult_level}]]
                        </div>
                    </div>
                    <div class="col-sm-1"></div>
                </div>
                <div style="height: 5px"></div>
            </div>
            <div style="display:none" class="recordContainerPageSolve" th:id="solve+${subListStat.count}">
                <div class="showBody">
                    <div class="contentSolve">
                        <div id="content" contentEditable="false" class="showDemoSolution" th:utext="${subList.simple_answer}"></div>
                    </div>
                </div>
            </div>
            <div style="height: 20px"></div>
        </div>
    </div>
    <div class="col-sm-2"></div>
</div>
</body>
<script src="../js/jquery-1.8.3.min.js"></script>
<script src="../js/jquery.hDialog.js"></script>
<script type="text/javascript" src="../js/layer/layer.min.js"></script>
<script>
    $(function () {
        // init();
        initDialog();
    });

    function initDialog() {
        var $el = $('.dialog');
        $el.hDialog();
    }

    function removeQuestionAndAnswer(questionId) {
        layer.alert('暂未开放', {icon: 4})
        return
    }
    
    function editQuestionAndAnswer(questionId) {
        layer.alert('暂未开放', {icon: 4})
        return
    }


    function goToStepAnswer(questionId) {
        $('#te').attr('src', '/quesBank/highPhyStepAnswerCtl/goToStepAnswer?question_id='+questionId);
        $('.dialog').hDialog({
            title: '这是什么呢',
            width: '80%',
            height: '90%',
            box: '#HBox',
            effect: 'fadeOut',
            closeBg: '#ffffff',
            positions: 'top',
            afterHide: function(){
                // $(".recordContainerPageSolve").css('display','none');
            }
        });
    }

    function getSimpleAnswer(id) {
        var solveId = '#solve'+id;
        if ($(solveId).css('display') == 'none'){
            $(solveId).stop().fadeIn();
        } else{
            $(solveId).stop().fadeOut();
        }
    }

</script>
</html>