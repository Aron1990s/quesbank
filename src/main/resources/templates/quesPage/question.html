<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../css/common.css"/><!-- 基本样式 -->
    <link rel="stylesheet" href="../css/animate.css"/> <!-- 动画效果 -->
    <link href="../css/bodyAndHtml.css" rel="stylesheet">
    <link href="../css/flexPlugin.css" rel="stylesheet">
    <link href="../css/quesBlock.css" rel="stylesheet">
</head>
<body class="main">
<div id="HBox" style="height: 100%;width: 100%">
    <iframe id="te" src="" frameborder="0" style="height: 90%;width: 100%"></iframe>
</div>
    <div class="container">
        <div class="col-sm-2"></div>
        <div class="col-sm-96 ques">
            <div style="text-align: center;height: 7%">XXXXXXXX题</div>
            <!--<div class="recordContainer">-->
                <!--<div class="showBody">-->
                    <!--<div class="content">-->
                        <!--<div id="content" contentEditable="false" class="showDemo">-->

                        <!--</div>-->
                    <!--</div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div class="recordContainerPageSolve"></div>-->
            <!--<div style="height: 3%"></div>-->
        </div>
        <div class="col-sm-2"></div>
    </div>
</body>
<script type="text/javascript" src="../formula/jmeditor/jquery-1.8.3.min.js"></script>
<script src="../js/jquery.hDialog.js"></script>
<script type="text/javascript" src="../formula/jmeditor/JMEditor.js"></script>
<script>
    $(function(){
        init();
        initDialog();
    });

    function initDialog() {
        var $el = $('.dialog');
        $el.hDialog();
    }
    
    function init() {
        $.ajax({
            cache : true,
            type : "GET",
            url : "/quesBank/demo/list",
            async: false,
            data : {

            },
            async : false,
            error : function(request) {
                alert("error")
            },
            success : function(data) {
                var conx = '<div class="recordContainerShowQuestion bounceInDown dialog" onclick="aa(INDEX)"><div class="showBody"><div class="contentShowQuestion"><div id="content" contentEditable="false" class="showDemoShowQuestion">AAAA</div></div></div></div>';
                var con = '<div class="recordContainerShowQuestion bounceInDown dialog" onclick="aa(INDEX)"><div class="showBody"><div class="contentShowQuestion"><div id="content" contentEditable="false" class="showDemoShowQuestion">AAAA</div></div></div></div><div style="height: 3%"></div>';
                var sub = '<div style="display:none" class="recordContainerPageSolve"><div class="showBody"><div class="contentSolve"><div id="content" contentEditable="false" class="showDemoSolution">AAAA</div></div></div></div><div style="height: 3%"></div>'
                for(var i = 0; i<data.demo.length;i++){
                    if (i == 0){
                        var con1 = conx.replace('INDEX',i).replace('AAAA',data.demo[i].content);
                        $('.ques').append(con1);

                        $.ajax({
                            cache : true,
                            type : "GET",
                            url : "/quesBank/demo/list2",
                            async: false,
                            data : {
                                type_order: 7
                            },
                            async : false,
                            error : function(request) {
                                alert("error")
                            },
                            success : function(data) {
                                // var con = '<div style="display:none" class="recordContainerSolve bounceInDown dialog" onclick="aa(INDEX)"><div class="showBody"><div class="contentSolve"><div id="content" contentEditable="false" class="showDemoSolution">AAAA</div></div></div></div><div style="height: 1%"></div>';
                                var con1 = sub.replace('AAAA',data.demo[0].content);
                                $('.ques').append(con1);
                            }
                        });


                    }else{
                        var con1 = con.replace('INDEX',i).replace('AAAA',data.demo[i].content);
                        $('.ques').append(con1);
                    }
                }
            }
        });
    }

    function aa(aa) {
        $('.recordContainer').hDialog({
            title: '这是什么呢'+aa,
            width:'80%',
            height: '90%',
            box:'#HBox',
            effect: 'fadeOut',
            closeBg: '#ffffff',
            positions: 'top'
            // ,
            // afterHide: function(){
            //     $(".recordContainerPageSolve").css('display','none');
            // }

        });
        $('#te').attr('src','/quesBank/demo/detail2');
        $(".recordContainerPageSolve").stop().fadeIn(500);

    }

</script>
</html>